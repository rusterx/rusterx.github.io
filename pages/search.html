---
layout: page
title: 搜索
icon: search
---

<!-- 引入搜索 -->
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<div id="app">
  <input type="text" class="form-control" @keyup.enter="search" v-model="qw" placeholder="搜索" >
  <div v-if="results.length != 0">
    <br/>
    <div class="result-item" v-for="(result, index) in results" :key="index">
      <a :href="result.url" class="result-title"><h4>${ result.name }$</h4></a>
      <div>${ result.url }$</div>
      <p>${ result.snippet }$</p>
    </div>
  </div>
</div>


<script>
  const { createApp, ref } = Vue
  createApp({
    delimiters: ["${", "}$"],
    setup() {
      const qw = ref('');
      const results = ref([]);
      function search(){
        var url = 'https://1251110281-6dc4hyvsn0-sh.scf.tencentcs.com/search/'+encodeURI(qw.value);
        axios.get(url).then(function (res) {
          console.log(res);
          const data = res.data['webPages']['value'];
          results.value = data;
        })
      }

      // 使用setup创建的必须全局返回
      return {
        qw,
        results,
        search
      }
    }
  }).mount('#app')
</script>
